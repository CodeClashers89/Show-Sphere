<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule Show | ShowSphere Partner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap');

        :root {
            --primary-color: #8C52FF;
            --primary-hover: #7b40f2;
            --text-color: #2D2042;
            --text-light: #666666;
            --bg-color: #F9F7FF;
            --white: #FFFFFF;
            --blue-header: #007bff;
            --pink-action: #FF527B;
            --border-radius: 12px;
            --shadow: 0 10px 25px rgba(140, 82, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* Header Styles */
        .header {
            background-color: var(--white);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 5px;
            text-decoration: none !important;
        }

        .logo span {
            color: var(--primary-color);
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            margin: 0 2rem;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 0.6rem 1rem 0.6rem 2.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .auth-buttons {
            display: flex;
            gap: 1.1rem;
            align-items: center;
        }

        .btn {
            padding: 0.5rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            border: none;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: var(--white);
        }

        /* Navigation Bar */
        .nav-bar {
            background: linear-gradient(135deg, #8C52FF 0%, #00BFB2 100%);
            color: var(--white);
            padding: 0.8rem 2rem;
            box-shadow: 0 4px 15px rgba(140, 82, 255, 0.3);
        }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 3rem;
            list-style: none;
        }

        .nav-links li a {
            color: white;
            opacity: 0.8;
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Main Container */
        .main-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem 1rem;
        }

        /* Schedule Card */
        .schedule-card {
            width: 100%;
            max-width: 750px;
            background: var(--white);
            border-radius: 8px;
            box-shadow: var(--shadow);
            overflow: hidden;
            border: 1px solid #eee;
        }

        .card-header {
            background-color: #007bff;
            color: white;
            padding: 1.2rem 2rem;
        }

        .card-header h1 {
            font-size: 1.4rem;
            font-weight: 700;
        }

        .form-content {
            padding: 2.5rem;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.8rem;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-light);
        }

        .form-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.95rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            border-color: var(--primary-color);
        }

        .sub-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-light);
            margin-top: 0.5rem;
            margin-bottom: 2.5rem;
            display: block;
        }

        .form-actions {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .btn-schedule {
            background-color: #FF527B;
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            box-shadow: 0 5px 15px rgba(255, 82, 122, 0.2);
        }

        .btn-cancel {
            background-color: transparent;
            color: var(--text-light);
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
            text-align: center;
        }

        .error-message {
            color: #dc3545;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        /* Footer */
        .footer {
            background-color: #1f2533;
            color: #abb2bf;
            padding: 5rem 2rem 3rem;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1240px;
            margin: 0 auto;
        }

        .footer-grid {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4rem;
            gap: 3rem;
        }

        .footer-section h3 {
            color: white;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
        }

        .footer-logo {
            color: white;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .social-links {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 3rem;
            justify-content: center;
        }

        .social-circle {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: #2d3139;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }

        .social-circle:hover {
            background: var(--primary-color);
            transform: translateY(-3px);
            color: white;
            box-shadow: 0 5px 15px rgba(140, 82, 255, 0.4);
        }

        .footer-text {
            text-align: center;
            font-size: 0.9rem;
            line-height: 1.8;
            border-top: 1px solid #2d3139;
            padding-top: 3rem;
        }

        @media (max-width: 768px) {
            .footer-grid {
                flex-direction: column;
                text-align: center;
            }

            .schedule-card {
                border-radius: 0;
            }
        }
    </style>
</head>

<body>

    <!-- Header Section -->
    <header class="header">
        <a href="{% url 'booking:home' %}" class="logo">
            <img src="{% static 'css/showspere.png' %}" alt="Logo" width="40" height="40">
            <span>ShowSphere</span>
        </a>

        <div class="auth-buttons">
            {% if user.is_authenticated %}
            <div id="auth-section" style="display: flex; align-items: center; gap: 10px;">
                <div style="background: #f0f0f5; padding: 0.4rem 1rem; border-radius: 6px; display: flex; align-items: center; gap: 8px; color: var(--text-color); font-weight: 600; cursor: pointer;"
                    onclick="window.location.href='{% url 'booking:logout' %}';">
                    ðŸ‘¤ {{ user.username }} <span
                        style="font-size: 0.8rem; opacity: 0.6; margin-left:5px;">(Logout)</span>
                </div>
            </div>
            {% else %}
            <a href="{% url 'booking:login' %}" class="btn btn-primary">Sign In</a>
            {% endif %}
        </div>
    </header>



    <!-- Main Schedule Content -->
    <main class="main-container">
        <div class="schedule-card">
            <header class="card-header">
                <h1>Schedule Show for {{ movie.title }}</h1>
            </header>

            <form method="post" class="form-content">
                {% csrf_token %}

                <div class="form-group">
                    <label for="screen" class="form-label">Select Screen</label>
                    <select name="screen" id="screen" class="form-control" required>
                        <option value="">Choose a screen...</option>
                        {% for theatre in theatres %}
                        <optgroup label="{{ theatre.name }}">
                            {% for screen in theatre.screens.all %}
                            <option value="{{ screen.id }}">{{ screen.name }} ({{ screen.total_seats }} seats)</option>
                            {% endfor %}
                        </optgroup>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">{{ form.show_date.label }}</label>
                    {{ form.show_date }}
                    {% if form.show_date.errors %}
                    <div class="error-message">{{ form.show_date.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label class="form-label">{{ form.show_time.label }}</label>
                    {{ form.show_time }}
                    {% if form.show_time.errors %}
                    <div class="error-message">{{ form.show_time.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label class="form-label">{{ form.end_time.label }}</label>
                    {{ form.end_time }}
                    {% if form.end_time.errors %}
                    <div class="error-message">{{ form.end_time.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label class="form-label">{{ form.base_price.label }}</label>
                    {{ form.base_price }}
                    {% if form.base_price.errors %}
                    <div class="error-message">{{ form.base_price.errors.0 }}</div>
                    {% endif %}
                    <label class="sub-label">Starting price per seat</label>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-schedule">Schedule Show</button>
                    <a href="{% url 'booking:manage_movies' %}" class="btn-cancel">Cancel</a>
                </div>
            </form>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="{% static 'css/showspere.png' %}" alt="ShowSphere Logo" width="50" height="50"
                    fetchpriority="high" loading="eager">
                ShowSphere
            </div>

            <div class="social-links">
                <a href="https://www.facebook.com" target="_blank" class="social-circle"><i
                        class="fab fa-facebook-f"></i></a>
                <a href="https://www.linkedin.com" target="_blank" class="social-circle"><i
                        class="fab fa-linkedin-in"></i></a>
                <a href="https://www.twitter.com" target="_blank" class="social-circle"><i
                        class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com" target="_blank" class="social-circle"><i
                        class="fab fa-instagram"></i></a>
            </div>

            <p class="footer-text">
                Copyright {% now "Y" %} @ ShowSphere Entertainment Pvt. Ltd. All Rights Reserved.
                <br><br>
                The content and images used on this site are copyright protected and copyrights vests with the
                respective owners. The usage of the content and images on this website is intended to promote the works
                and endorsement of the artist shall be implied. Unauthorized use is prohibited and punishable by law.
            </p>
        </div>
    </footer>

</body>

</html>