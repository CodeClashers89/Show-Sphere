<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ShowSphere | Movie & Event Tickets</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {% load static %}

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* ========= STRICT DESIGN FROM 2nd HTML ========= */

        :root {
            --primary-color: #8C52FF;
            --primary-hover: #7b40f2;
            --text-color: #2D2042;
            --text-light: #666;
            --bg-color: #F9F7FF;
            --white: #fff;
            --radius: 20px;
            --shadow: 0 10px 25px rgba(140, 82, 255, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }

        body {
            background: var(--bg-color);
            color: var(--text-color);
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        .footer {
            background-color: #1f2533;
            color: #abb2bf;
            padding: 5rem 2rem 3rem;
            margin-top: 5rem;
        }

        .footer-content {
            max-width: 1240px;
            margin: 0 auto;
        }

        .footer-logo {
            color: white;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .social-links {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 3rem;
            justify-content: center;
        }

        .social-circle {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: #2d3139;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }

        .social-circle:hover {
            background: var(--primary-color);
            transform: translateY(-3px);
            color: white;
            box-shadow: 0 5px 15px rgba(140, 82, 255, 0.4);
        }

        .footer-text {
            text-align: center;
            font-size: 0.9rem;
            line-height: 1.8;
            border-top: 1px solid #2d3139;
            padding-top: 3rem;
        }

        /* HEADER */
        .header {
            background: var(--white);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            gap: .5rem;
            align-items: center;
        }

        .logo span {
            color: var(--primary-color);
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            margin: 0 2rem;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 0.6rem 1rem 0.6rem 2.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .search-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            display: inline-block;
            padding: 0.6rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }

        .btn-outline {
            border: 1px solid #ddd;
            background: transparent;
        }

        .btn-partner {
            background-color: white;
            border: 1px solid #dcdcdc;
            color: #2D2042;
            border-radius: 6px;
            padding: 0.5rem 1.2rem;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-partner:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* NAV BAR */
        .nav-bar {
            background: linear-gradient(135deg, #8C52FF, #00BFB2);
            padding: 1rem;
            color: white;
        }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 3rem;
            list-style: none;
        }

        /* HERO */
        .hero {
            height: 400px;
            overflow: hidden;
        }

        .hero-slide {
            height: 400px;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            padding: 3rem;
            color: white;
        }

        .hero-content {
            max-width: 600px;
        }

        .hero-content h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .hero-content p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        /* CONTENT */
        .container {
            max-width: 1200px;
            margin: 3rem auto;
            padding: 0 1rem;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 2rem;
        }

        .card {
            background: var(--white);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .card img {
            width: 100%;
            height: 350px;
            object-fit: cover;
        }

        .card-content {
            padding: 1.25rem;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .card-content h3 {
            font-size: 1.1rem;
            margin-bottom: 0.2rem;
        }

        .card-content p {
            color: var(--text-light);
            margin-bottom: 0.8rem;
            font-size: 0.95rem;
        }

        /* FOOTER */
        .footer {
            background: #333338;
            color: #aaa;
            text-align: center;
            padding: 3rem 1rem;
        }
    </style>
</head>

<body>

    <!-- HEADER (from design + base.html logic) -->
    <header class="header">
        <a href="{% url 'booking:home' %}" class="logo">
            <span>ShowSphere</span>
        </a>

        <form class="search-bar" action="{% url 'booking:search' %}" method="get">
            <span class="search-icon">&#128269;</span>
            <input type="text" name="q" placeholder="Search for Movies, Events...">
        </form>

        <div class="auth-buttons">
            <a href="{% url 'booking:organizer_register' %}" class="btn-partner">New Partner</a>
            {% if user.is_authenticated %}
            <a href="{% url 'booking:logout' %}" class="btn btn-outline">Logout</a>
            {% else %}
            <a href="{% url 'booking:login' %}" class="btn btn-primary">Sign In</a>
            {% endif %}
        </div>
    </header>

    <!-- NAV -->
    <nav class="nav-bar">
        <ul class="nav-links">
            <li><a href="{% url 'booking:browse' %}">Movies</a></li>
            <li><a href="{% url 'booking:browse' %}?category=events">Events</a></li>
            <li><a href="{% url 'booking:browse' %}?category=sports">Sports</a></li>
        </ul>
    </nav>

    <!-- HERO CAROUSEL (FULL BACKEND PRESERVED) -->
    <section class="hero">
        {% if trending_movies %}
        {% for movie in trending_movies %}
        <div class="hero-slide"
            style="background-image: linear-gradient(rgba(0,0,0,.65),rgba(0,0,0,.65)), url('{{ movie.poster.url }}');">
            <div class="hero-content">
                <h1>{{ movie.title }}</h1>
                <p>{{ movie.description|truncatewords:20 }}</p>
                <a href="{% url 'booking:movie_detail' movie.id %}" class="btn btn-primary">Book Tickets</a>
            </div>
        </div>
        {% endfor %}
        {% endif %}
    </section>

    <!-- RECOMMENDED MOVIES -->
    <div class="container">
        <div class="section-header">
            <h2>Recommended Movies</h2>
            <a href="{% url 'booking:browse' %}">See All â€º</a>
        </div>

        <div class="card-grid">
            {% for movie in new_movies %}
            <div class="card">
                <img src="{{ movie.poster.url }}">
                <div class="card-content">
                    <h3>{{ movie.title }}</h3>
                    <p>{{ movie.genre.name }}</p>
                    <a href="{% url 'booking:movie_detail' movie.id %}" class="btn btn-primary">Book Now</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- EVENTS -->
    <div class="container">
        <div class="section-header">
            <h2>Events Near You</h2>
        </div>

        <div class="card-grid">
            {% for event in trending_events %}
            <div class="card">
                <img src="{{ event.poster.url }}">
                <div class="card-content">
                    <h3>{{ event.title }}</h3>
                    <p>{{ event.category.name }} | {{ event.language.name }}</p>
                    <a href="{% url 'booking:event_detail' event.id %}" class="btn btn-primary">Book Now</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="{% static 'css/showspere.png' %}" alt="ShowSphere Logo" width="50" height="50"
                    fetchpriority="high" loading="eager">
                ShowSphere
            </div>

            <div class="social-links">
                <a href="https://www.facebook.com" target="_blank" class="social-circle"><i
                        class="fab fa-facebook-f"></i></a>
                <a href="https://www.linkedin.com" target="_blank" class="social-circle"><i
                        class="fab fa-linkedin-in"></i></a>
                <a href="https://www.twitter.com" target="_blank" class="social-circle"><i
                        class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com" target="_blank" class="social-circle"><i
                        class="fab fa-instagram"></i></a>
            </div>

            <p class="footer-text">
                Copyright {% now "Y" %} @ ShowSphere Entertainment Pvt. Ltd. All Rights Reserved.
                <br><br>
                The content and images used on this site are copyright protected and copyrights vests with the
                respective owners. The usage of the content and images on this website is intended to promote the works
                and endorsement of the artist shall be implied. Unauthorized use is prohibited and punishable by law.
            </p>
        </div>
    </footer>

</body>

</html>