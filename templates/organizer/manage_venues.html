{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Venues | ShowSphere Partner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap');

        :root {
            --primary-color: #8C52FF;
            --primary-hover: #7b40f2;
            --text-color: #2D2042;
            --text-light: #666666;
            --bg-color: #F9F7FF;
            --white: #FFFFFF;
            --success-green: #28a745;
            --border-radius: 12px;
            --shadow: 0 10px 25px rgba(140, 82, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* Header Styles */
        .header {
            background-color: var(--white);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo span {
            color: var(--primary-color);
        }

        /* Search Bar Removed */

        .auth-buttons {
            display: flex;
            gap: 1.1rem;
            align-items: center;
            margin-left: auto;
            /* Push to right since search is gone */
        }

        .btn {
            padding: 0.5rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            border: none;
            transition: all 0.3s;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #ddd;
            color: var(--text-color);
        }

        .btn-outline:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* Layout */
        .main-layout {
            display: flex;
            flex: 1;
            max-width: 1400px;
            margin: 3rem auto;
            width: 100%;
            padding: 0 1rem;
            gap: 2.5rem;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            height: fit-content;
            border: 1px solid #f0edf7;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-item a {
            padding: 1.2rem 1.8rem;
            display: block;
            font-weight: 600;
            color: var(--text-light);
            transition: all 0.3s;
            border-bottom: 1px solid #f0edf7;
        }

        .sidebar-item:last-child a {
            border-bottom: none;
        }

        .sidebar-item a:hover {
            background: #f8f6ff;
            color: var(--primary-color);
            padding-left: 2.2rem;
        }

        .sidebar-item.active a {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 5px 15px rgba(140, 82, 255, 0.3);
        }

        /* Content Area */
        .content {
            flex: 1;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2.5rem;
        }

        .page-title {
            font-size: 2.2rem;
            font-weight: 900;
            color: var(--text-color);
        }

        .btn-add-venue {
            background-color: #FF527B;
            color: white;
            padding: 0.8rem 1.8rem;
            border-radius: 8px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 5px 15px rgba(255, 82, 123, 0.3);
            text-decoration: none;
            /* Added for anchor tag support */
        }

        /* Venue Grid */
        .venue-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            /* Responsive grid */
            gap: 2rem;
        }

        /* Venue Card */
        .venue-card {
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid #f0edf7;
            padding: 1.8rem;
            transition: transform 0.3s;
        }

        .venue-card:hover {
            transform: translateY(-5px);
        }

        .venue-header {
            margin-bottom: 0.8rem;
        }

        .venue-name {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-color);
            margin-bottom: 5px;
        }

        .venue-location {
            font-size: 0.95rem;
            color: var(--text-light);
            font-weight: 500;
            margin-bottom: 5px;
        }

        .venue-details {
            font-size: 0.9rem;
            color: var(--text-color);
            font-weight: 600;
            margin-bottom: 2rem;
            display: block;
        }

        .action-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }

        .btn-action {
            padding: 0.5rem 1.2rem;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            text-align: center;
            flex: 1;
        }

        .btn-edit {
            border: 1px solid #ddd;
            background: white;
            color: var(--text-light);
        }

        .btn-edit:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .btn-delete {
            border: 1px solid #FF527B;
            background: white;
            color: #FF527B;
        }

        .btn-delete:hover {
            background-color: #FF527B;
            color: white;
        }

        /* Footer */
        .footer {
            background-color: #1f2533;
            color: #abb2bf;
            padding: 5rem 2rem 3rem;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1240px;
            margin: 0 auto;
        }

        .footer-logo {
            color: white;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .footer-logo svg {
            width: 30px;
            height: 30px;
        }

        .social-links {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 3rem;
            justify-content: center;
        }

        .social-circle {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: #2d3139;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }

        .social-circle:hover {
            background: var(--primary-color);
            transform: translateY(-3px);
            color: white;
            box-shadow: 0 5px 15px rgba(140, 82, 255, 0.4);
        }

        .footer-text {
            text-align: center;
            font-size: 0.9rem;
            line-height: 1.8;
            border-top: 1px solid #2d3139;
            padding-top: 3rem;
        }

        @media (max-width: 992px) {
            .main-layout {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
            }

            .content-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .venue-card {
                max-width: 100%;
            }
        }
    </style>
</head>

<body>

    <!-- Header Section -->
    <header class="header">
        <a href="{% url 'booking:home' %}" class="logo">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" fill="#8C52FF" fill-opacity="0.2" />
                <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"
                    fill="#8C52FF" />
            </svg>
            <span>ShowSphere</span>
        </a>

        <!-- Search Bar Removed -->

        <div class="auth-buttons">
            <a href="{% url 'booking:organizer_register' %}" class="btn btn-outline" style="text-decoration:none;">New
                Partner</a>
            <div id="auth-section" style="display: flex; align-items: center; gap: 10px;">
                <div
                    style="background: #f0f0f5; padding: 0.4rem 1rem; border-radius: 6px; display: flex; align-items: center; gap: 8px; color: var(--text-color); font-weight: 600; cursor: pointer;">
                    {% if user.is_authenticated %}
                    ðŸ‘¤ {{ user.username }} <span style="font-size: 0.8rem; opacity: 0.6;">â–¼</span>
                    {% else %}
                    ðŸ‘¤ Guest
                    {% endif %}
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation Bar Removed -->

    <!-- Main Content Layout -->
    <main class="main-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <ul class="sidebar-menu">
                <li class="sidebar-item"><a href="{% url 'booking:organizer_dashboard' %}">Dashboard</a></li>
                <li class="sidebar-item"><a href="{% url 'booking:manage_events' %}">Manage Events</a></li>
                <li class="sidebar-item active"><a href="{% url 'booking:manage_venues' %}">Manage Venues</a></li>
                <li class="sidebar-item"><a href="{% url 'booking:organizer_analytics' %}">Analytics</a></li>
                <li class="sidebar-item"><a href="{% url 'booking:scan_ticket' %}">Scan Ticket</a></li>
            </ul>
        </aside>

        <!-- Management Area -->
        <section class="content">
            <div class="content-header">
                <h1 class="page-title">Manage Venues</h1>
                <a href="{% url 'booking:create_venue' %}" class="btn-add-venue">
                    <span>+</span> Add New Venue
                </a>
            </div>

            <!-- Venue Cards -->
            <div class="venue-grid">
                {% for venue in venues %}
                <div class="venue-card">
                    <div class="venue-header">
                        <h2 class="venue-name">{{ venue.name }}</h2>
                        <p class="venue-location">{{ venue.address }}, {{ venue.city.name }}</p>
                        <span class="venue-details">Capacity: {{ venue.capacity }}</span>
                    </div>
                    <div class="action-buttons">
                        <a href="{% url 'booking:edit_venue' venue.id %}" class="btn-action btn-edit">Edit</a>
                        <a href="{% url 'booking:delete_venue' venue.id %}" class="btn-action btn-delete">Delete</a>
                    </div>
                </div>
                {% empty %}
                <div class="col-12" style="grid-column: 1 / -1;">
                    <div
                        style="background: white; padding: 2rem; border-radius: 12px; border: 1px solid #ddd; text-align: center; color: var(--text-light);">
                        You haven't added any venues yet.
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="{% static 'css/showspere.png' %}" alt="ShowSphere Logo" width="50" height="50"
                    fetchpriority="high" loading="eager">
                ShowSphere
            </div>

            <div class="social-links">
                <a href="https://www.facebook.com" target="_blank" class="social-circle"><i
                        class="fab fa-facebook-f"></i></a>
                <a href="https://www.linkedin.com" target="_blank" class="social-circle"><i
                        class="fab fa-linkedin-in"></i></a>
                <a href="https://www.twitter.com" target="_blank" class="social-circle"><i
                        class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com" target="_blank" class="social-circle"><i
                        class="fab fa-instagram"></i></a>
            </div>

            <p class="footer-text">
                Copyright {% now "Y" %} @ ShowSphere Entertainment Pvt. Ltd. All Rights Reserved.
                <br><br>
                The content and images used on this site are copyright protected and copyrights vests with the
                respective owners. The usage of the content and images on this website is intended to promote the works
                and endorsement of the artist shall be implied. Unauthorized use is prohibited and punishable by law.
            </p>
        </div>
    </footer>

</body>

</html>